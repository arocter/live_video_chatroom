<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <title>FACE/OFF chatroom</title>

    <script type="text/javascript" async="" src="files/ga.js"></script>
	<script src="files/dat.gui.min.js"></script>
	<script src="files/utils.js"></script>
	<script src="files/numeric-1.2.6.min.js"></script>
	<script src="files/mosse.js"></script>
	<script src="files/jsfeat-min.js"></script>
	<script src="files/frontalface.js"></script>
	<script src="files/jsfeat_detect.js"></script>
	<script src="files/left_eye_filter.js"></script>
	<script src="files/right_eye_filter.js"></script>
	<script src="files/nose_filter.js"></script>
	<script src="files/model_pca_20_svm.js"></script>
	<script src="files/clm.js"></script>
	<script src="files/svmfilter_webgl.js"></script>
	<script src="files/svmfilter_fft.js"></script>
	<script src="files/mossefilter.js"></script>
	<script src="files/Stats.js"></script>
	<script src="files/face_deformer.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="files/peer.min.js"></script>

</head>


<body>
	<div class="container-fluid" style="margin-left: 450px;">
		<div class="row title">
			<h1>FACE/OFF chatroom</h1>
		</div>
	</div>
	<div class="container-fluid" style="margin-left: 450px;">
		<div class="row" id="row">
			<div class="mycamera col-md-3 nopadding">
				<img src="" id="imagefile">
				<img src="" id="imagefile2">
				<video id="myvideo" width="320.25" height="240"></video>
				<canvas id="overlay" width="320.25" height="240"></canvas>
				<canvas id="webgl" width="320.25" height="240"></canvas>
				<canvas id="thecanvas" width="320.25" height="240"></canvas>
				<br>
				<br>
				<div class="options">
				<select name="mask" id="selectmask">
					<option value="0">Wipe</option>
					<option value="1">Chino</option>
					<option value="2">Hao</option>
					<option value="8">KC</option>
					<option value="3">Leon</option>
					<option value="4">Skylar</option>
					<option value="9">Ondina</option>
					<option value="5">Jason</option>
					<option value="6">Shawn</option>
					<option value="7">Kanye</option>
					<option value="10">Emma</option>
					<option value="11">Paula</option>
					<option value="12">Marina</option>
				</select>
				<button  class="btn btn-warning btn-sm" type="button" value="FACE/OFF" onclick="startVideo()" id="startbutton">FACE/OFF</button> 
				<br>
				<br>
				<div class="adduser">
					<select id="userList">
						<option>Select a user...</option>
					</select>
					<button class="btn btn-info btn-sm" id="callbtn" type="button" value="call">CALL</button> 
				</div>
				</div>
				<img id="Wipe" class="masks" src="files/wipe.jpg">
				<img id="Chino" class="masks" src="files/Chino.jpg">
				<img id="hao" class="masks" src="files/hao2.jpg">
				<img id="leon" class="masks" src="files/leon.jpg">
				<img id="skylar" class="masks" src="files/skylar.jpg">
				<img id="jason" class="masks" src="files/jason.jpg">
				<img id="shawn" class="masks" src="files/shawn.jpg">
				<img id="kanye" class="masks" src="files/kanye.jpg">
				<img id="kc" class="masks" src="files/kc.jpg">
				<img id="ondina" class="masks" src="files/ondina.jpg">
				<img id="emma" class="masks" src="files/emma.jpg">
				<img id="paula" class="masks" src="files/paula.jpg">
				<img id="marina" class="masks" src="files/marina.jpg">
				</div>
			




		</div>
	</div>


  <script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
	<script type="text/javascript">

			function startVideo() {
				// start video
				vid.play();
				// start tracking
				ctrack.start(vid);
				// start drawing face grid
				drawGridLoop();
			}

    		//Get User Media
			var my_stream = null;
			window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;
			navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
			if (navigator.getUserMedia) {
				navigator.getUserMedia({video: true}, function(stream) {
						videoElement = document.getElementById('myvideo');
						my_stream = stream;
						videoElement.src = window.URL.createObjectURL(stream) || stream;
						videoElement.play();
					}, function(err) {
						console.log('Failed to get local stream' ,err);
				});
			}

			//Global variables
			var vid = document.getElementById("myvideo");
			var overlay = document.getElementById('overlay');
			var overlayCC = overlay.getContext('2d');
			var ctrack = new clm.tracker();
				ctrack.init(pModel);

			//check if browser support webgl
			var webGLContext;
			var webGLcanvas = document.getElementById("webgl");
			var webGLTestCanvas = document.createElement('canvas');
			if (window.WebGLRenderingContext) {
				webGLContext = webGLTestCanvas.getContext('webgl') || webGLTestCanvas.getContext('experimental-webgl');
				if (!webGLContext || !webGLContext.getExtension('OES_texture_float')) {
					webGLContext = null;
				}
			}
			if (webGLContext == null) {
				alert("Your browser does not seem to support WebGL. Unfortunately this face mask example depends on WebGL, so you'll have to try it in another browser. :(");
			}

			//peer connection
			var peer = new Peer({host: 'liveweb.itp.io', port: 9000, path: '/'});
			var peerUser={};
			var socket;
			var myName;
			socket = io.connect();
			peer.on('open',function(id){
				peerUser.id = id;
				var name = prompt("Please enter your name", "my name");
				peerUser.name = name;
				myName = name;
				socket.emit('peerUser',peerUser);
			})



			var userList=[];
			var selectedName;

			function createUserList(list){
				var sel = $('#userList');
				$(list).each(function(){
					if(this.name!=peerUser.name){
						sel.append($("<option>").attr('value',this.id).text(this.name));
					}
				});
			}

			document.getElementById('userList').addEventListener('change', addOnclick, false);
			var userPeerId=null;
			var callbtn = document.getElementById('callbtn');
			function addOnclick(){
				var e = document.getElementById("userList");
				userPeerId = e.options[e.selectedIndex].value;
				callbtn.addEventListener("click",makeConnection,false);
			}

			socket.on('userList',function(list){
				createUserList(list);
				userList.push(list);
			})

			// var connection = null;
			var idToCall;
			var imgdata;
			peer.on('connection',function(conn){
				var connection=conn;

				connection.on('open',function(){
					connection.send(peerUser);
				});

				var tempUserPeerId;

				connection.on('data', function(data) {
					if(Array.isArray(data)==false){
						tempUserPeerId = data.id;
						openVideo(tempUserPeerId);
					}
					var id1 = tempUserPeerId+"1";
					var id2 = tempUserPeerId+"2";
					// console.log(id1);
					document.getElementById(id1).src = data[0];
					if(data[1]!=null){
						document.getElementById(id2).src = data[1];
					}
					// document.getElementById(tempUserPeerId+"1").src = data[0];
					// document.getElementById(tempUserPeerId+"2").src = data[1];
					// console.log("channel02");	
					// console.log(data);	
				});

				var send = function(){
					setTimeout(send);
					connection.send(imgdata);
				}
				send();

			});

			function makeConnection(){
				console.log("peer connected");
				var connection = peer.connect(userPeerId);
				connection.on('open',function(){
					connection.send(peerUser);
				});
				connection.on('data', function(data) {
					var tempUserPeerId2 = userPeerId;
					if(Array.isArray(data)==false){
						openVideo(tempUserPeerId2);
					}
					var id1 = tempUserPeerId2+"1";
					var id2 = tempUserPeerId2+"2";
					// console.log(id1);
					document.getElementById(id1).src = data[0];
					if(data[1]!=null){
						document.getElementById(id2).src = data[1];
					}
				});
				var send = function(){
					setTimeout(send);
					connection.send(imgdata);
				}
				send();
			}

			function openVideo(userPeerId){
				var div = document.createElement("div");
				div.className = "col-md-3 nopadding";
				div.id= userPeerId;
				document.getElementById("row").appendChild(div);
				var img1 = document.createElement("img");
				img1.id = userPeerId+"1";
				var img2 = document.createElement("img");
				img2.id = userPeerId+"2";
				img2.className = "img2";
				document.getElementById(userPeerId).appendChild(img1);
				document.getElementById(userPeerId).appendChild(img2);

				var name = document.createElement("div");
				name.id=userPeerId+"10";
				name.innerHTML = "userID: "+userPeerId;
				document.getElementById(userPeerId).appendChild(name);

				var textarea = document.createElement("textarea");
				textarea.id = userPeerId+"3";
				document.getElementById(userPeerId).appendChild(textarea);
				var form = document.createElement("form");
				form.id = userPeerId+"6";
				document.getElementById(userPeerId).appendChild(form);
				var input = document.createElement("input");
				input.id = userPeerId+"4";
				input.type = "text";
				document.getElementById(userPeerId+"6").appendChild(input);


				var sendbtn = document.createElement("input");
				sendbtn.id = userPeerId+"5";
				sendbtn.type = "button";
				sendbtn.value = "send";
				document.getElementById(userPeerId+"6").appendChild(sendbtn);
				sendbtn.onclick=sendText;

				function sendText(){
				    var text = $('#userPeerId'+"4").val();
				    $('#userPeerId'+"3").val($('#userPeerId'+"3").val() + text);
				   	$('#userPeerId'+"4").val('');
				}
			}





			//一團看不懂的東西
			document.getElementById('selectmask').addEventListener('change', updateMask, false);

			function updateMask(el) {
				currentMask = parseInt(el.target.value, 10);
				switchMasks();
			}

			var positions;
			var fd = new faceDeformer();
			fd.init(document.getElementById('webgl'));
			
			
			var masks = {
				"Wipe" : [
  [
    35.556338686617856,
    80.40851245092949
  ],
  [
    35.20059939428715,
    92.99676380365062
  ],
  [
    37.35125842999935,
    104.97031862873251
  ],
  [
    41.14169204488793,
    116.75110888217543
  ],
  [
    47.21269521998603,
    126.46225253713547
  ],
  [
    55.249754282448166,
    133.99302479452655
  ],
  [
    64.71400364259665,
    139.41714584391204
  ],
  [
    75.44736680857083,
    140.6416488056962
  ],
  [
    86.10444911851889,
    137.75520746658427
  ],
  [
    95.01673334445744,
    130.84058106959944
  ],
  [
    102.18572229793809,
    122.18364168569155
  ],
  [
    106.93237253804774,
    111.73852561908151
  ],
  [
    109.03496629189712,
    99.73907145289742
  ],
  [
    109.47453700118051,
    87.60116748895095
  ],
  [
    107.32707010200723,
    75.08119654169127
  ],
  [
    98.63024506494148,
    66.67891929474112
  ],
  [
    92.95040142953863,
    64.22787102332198
  ],
  [
    84.57142357744554,
    64.93545916317821
  ],
  [
    78.08445946138804,
    66.79206975775438
  ],
  [
    42.850179580975144,
    70.93751707742786
  ],
  [
    48.02714256691781,
    67.78612160716301
  ],
  [
    56.23871815430327,
    67.2233403632263
  ],
  [
    62.87945247697031,
    68.04930024086997
  ],
  [
    48.10399343351928,
    79.07983542871078
  ],
  [
    54.29743033122404,
    75.09910020065956
  ],
  [
    61.54042614606313,
    78.19310463630201
  ],
  [
    54.709524805573565,
    80.47523524925606
  ],
  [
    54.65564973884304,
    77.6661014329359
  ],
  [
    94.32272957182123,
    75.42298086187243
  ],
  [
    87.53349418570839,
    72.44171519665592
  ],
  [
    80.88607340212725,
    76.65934552966385
  ],
  [
    87.97131795354545,
    77.83384993635391
  ],
  [
    87.60238100428602,
    75.0371485543379
  ],
  [
    70.90291899928053,
    74.69844567841986
  ],
  [
    64.41663824379899,
    92.16429267015812
  ],
  [
    61.54339287438456,
    98.02458326064482
  ],
  [
    64.81174286656353,
    101.64557942643958
  ],
  [
    72.7071802202841,
    102.30182403677047
  ],
  [
    80.58155301294755,
    100.44905480623777
  ],
  [
    83.29379849609363,
    96.38141117676388
  ],
  [
    79.5144567387772,
    91.03456159991514
  ],
  [
    71.53741792426649,
    85.69601492610417
  ],
  [
    66.9308557118294,
    99.3150501797511
  ],
  [
    77.92064569752064,
    98.43296606435936
  ],
  [
    59.75711740416455,
    114.93895090123102
  ],
  [
    64.43513094798298,
    111.50424371367114
  ],
  [
    69.5917080028137,
    109.90966748151462
  ],
  [
    73.27385681504992,
    110.40333536926188
  ],
  [
    76.86546008681267,
    109.35161914114066
  ],
  [
    82.31274618631628,
    110.13625279442186
  ],
  [
    87.68038510052219,
    112.76541958583462
  ],
  [
    84.35637671178333,
    116.54443055561308
  ],
  [
    79.92050660871638,
    119.17770063881957
  ],
  [
    74.0259103233619,
    120.37069680113402
  ],
  [
    68.13096269926746,
    120.11856449877806
  ],
  [
    63.45557746046409,
    118.16883246594936
  ],
  [
    66.88429658653888,
    115.53575984061195
  ],
  [
    73.69666522547715,
    115.704064378971
  ],
  [
    80.51836268991029,
    114.44233482986124
  ],
  [
    80.30956254372752,
    112.4594701409133
  ],
  [
    73.49238431317946,
    113.16958454826008
  ],
  [
    66.80402849487787,
    113.48262019569364
  ],
  [
    72.13661769268364,
    96.06745983797764
  ],
  [
    50.552358332241624,
    76.4167559321721
  ],
  [
    58.44658453311978,
    75.74567039192277
  ],
  [
    58.304247983483435,
    79.53740520158782
  ],
  [
    51.079566108495754,
    80.16923483711338
  ],
  [
    91.45899282867724,
    73.15364314629778
  ],
  [
    83.52377678217658,
    73.74993370874074
  ],
  [
    84.26912175341687,
    77.48758951293667
  ],
  [
    91.52685305865354,
    76.96079598494237
  ]
],
"Chino" : [
  [
    46.00550368609244,
    59.79641294224667
  ],
  [
    44.49150227742302,
    71.55036574922123
  ],
  [
    45.50512175248746,
    82.99104225265887
  ],
  [
    47.97226670288501,
    94.60299776501489
  ],
  [
    52.88624830363226,
    104.37995891863514
  ],
  [
    60.079886472801135,
    112.07038748711459
  ],
  [
    68.98684096439138,
    117.73218568794948
  ],
  [
    78.98724473637955,
    119.91600546369762
  ],
  [
    88.57602241221822,
    118.22208515583344
  ],
  [
    96.77404108890119,
    112.92028899720094
  ],
  [
    103.68911009063586,
    105.75011519044457
  ],
  [
    108.74484549294903,
    96.57379820391564
  ],
  [
    111.93317257570062,
    85.55148587307346
  ],
  [
    113.90231727585545,
    74.3451130258598
  ],
  [
    113.34841501643362,
    62.564001621362934
  ],
  [
    107.45196465164335,
    54.145413225312936
  ],
  [
    103.0663511038864,
    51.01144654219907
  ],
  [
    95.46410312428291,
    50.54322722627805
  ],
  [
    89.29369004525047,
    51.529446132111126
  ],
  [
    54.72877820753408,
    52.49172961890363
  ],
  [
    60.09230809183191,
    49.52242968017159
  ],
  [
    68.10073856744143,
    49.61705248652767
  ],
  [
    74.33680167554186,
    51.0469578301238
  ],
  [
    59.23405761539382,
    60.64898118125374
  ],
  [
    65.63661508546082,
    57.69784271944074
  ],
  [
    71.96731412380333,
    61.09785400054969
  ],
  [
    65.41346451578542,
    62.755834343637275
  ],
  [
    65.70637828765922,
    60.145128973814714
  ],
  [
    102.77876718413575,
    62.19766756894152
  ],
  [
    97.12412483187154,
    58.80112578917099
  ],
  [
    90.31232783154152,
    61.66666659227529
  ],
  [
    96.82103464022788,
    63.847181454954196
  ],
  [
    96.76775858564179,
    61.222502595051694
  ],
  [
    81.56890945591047,
    58.44211076184699
  ],
  [
    73.9660510906593,
    73.68900388697561
  ],
  [
    70.66203813421018,
    78.94930213345503
  ],
  [
    73.38865598229017,
    82.75929003698172
  ],
  [
    80.83011626837433,
    83.69799077391747
  ],
  [
    87.82094109309537,
    83.21011749576891
  ],
  [
    90.66383476569432,
    79.69115065632091
  ],
  [
    88.01309586805134,
    74.21723317272719
  ],
  [
    81.501689626621,
    68.24921088085398
  ],
  [
    76.00574908037527,
    80.1583278028418
  ],
  [
    85.84550773716927,
    80.60462793074771
  ],
  [
    67.79673604097644,
    96.15873942186144
  ],
  [
    72.37885361154514,
    93.1526342220025
  ],
  [
    77.17022989087855,
    91.74122822257688
  ],
  [
    80.43723003425382,
    92.59519144731863
  ],
  [
    83.65217133466061,
    91.97553241566322
  ],
  [
    87.97843080089717,
    93.66366972341785
  ],
  [
    91.64463241187963,
    96.95180464975152
  ],
  [
    88.76837367809443,
    99.89759421498921
  ],
  [
    85.0416157575184,
    101.74135185913372
  ],
  [
    80.0055631186903,
    102.17746237417
  ],
  [
    74.83436519439303,
    101.43248885984444
  ],
  [
    70.80686134011589,
    99.33614771432694
  ],
  [
    74.2264522740105,
    96.7578088592484
  ],
  [
    80.14406480338258,
    97.5147819373498
  ],
  [
    85.83634436869465,
    97.12653024844982
  ],
  [
    85.92912285049565,
    95.59327503551133
  ],
  [
    80.24991052710715,
    95.27369636499277
  ],
  [
    74.29916805235439,
    95.20908127574083
  ],
  [
    81.40261166134844,
    77.5462002229762
  ],
  [
    61.93492785443336,
    58.50145370215132
  ],
  [
    69.42837411018785,
    58.671959852643894
  ],
  [
    68.92060289886737,
    62.1727795303894
  ],
  [
    61.970662764469424,
    62.06998481616614
  ],
  [
    100.56903875565388,
    59.87847203470376
  ],
  [
    93.2128350351725,
    59.458397577404135
  ],
  [
    93.36561866871415,
    63.00342028354282
  ],
  [
    100.18723727194694,
    63.39303002523806
  ]
],
"hao":[
  [
    244.5808310600846,
    182.76187122914502
  ],
  [
    246.88006322963338,
    197.14863633639925
  ],
  [
    251.77204134182514,
    210.5358342803564
  ],
  [
    258.2104290907605,
    223.43040505741664
  ],
  [
    266.105161237711,
    233.98959082789935
  ],
  [
    275.37395998891606,
    242.24251637857435
  ],
  [
    285.49299874265023,
    248.30381927347682
  ],
  [
    297.4458367284399,
    248.25697081561987
  ],
  [
    310.8491709227177,
    242.67374687435142
  ],
  [
    322.41440205566744,
    232.0553755061378
  ],
  [
    331.3794306956145,
    219.47228212311882
  ],
  [
    336.34715030635704,
    205.006801588126
  ],
  [
    336.53228489932627,
    189.3893171165301
  ],
  [
    334.1815060585075,
    174.71136448040505
  ],
  [
    328.5350078164349,
    160.30341759602942
  ],
  [
    312.5417354088637,
    154.94600455711998
  ],
  [
    303.8573411426526,
    153.6861888576683
  ],
  [
    293.187960976903,
    156.90859103397827
  ],
  [
    285.54054334729534,
    160.84889092611752
  ],
  [
    246.67987560266087,
    172.3759251498754
  ],
  [
    250.88314631121307,
    168.24233141014332
  ],
  [
    260.1514102731457,
    166.0813766271554
  ],
  [
    268.10010190273954,
    165.75926753203237
  ],
  [
    254.18043666630177,
    180.22369781688175
  ],
  [
    260.015741464659,
    174.55599289736134
  ],
  [
    269.4585862424677,
    176.07353086251322
  ],
  [
    261.8071204792651,
    180.29037609901033
  ],
  [
    261.4151342213054,
    177.0879137407344
  ],
  [
    308.5865525384572,
    165.37825336985347
  ],
  [
    299.06191409465725,
    163.78724063417425
  ],
  [
    292.35827621041426,
    170.0355008898996
  ],
  [
    300.9342239888718,
    169.6717570680264
  ],
  [
    300.1480561587392,
    166.49632209818927
  ],
  [
    278.1866010969359,
    170.69837243735444
  ],
  [
    273.22004790817425,
    192.2653673249214
  ],
  [
    271.51540867710537,
    199.70471042943183
  ],
  [
    275.87262822698517,
    203.35541895876617
  ],
  [
    284.5088938476078,
    203.12797291963463
  ],
  [
    295.00347441213523,
    198.6292719257046
  ],
  [
    297.57043496383375,
    192.9423425230092
  ],
  [
    291.34776532831324,
    187.5208127328101
  ],
  [
    279.50603277530945,
    183.94431846315044
  ],
  [
    276.9563252373129,
    201.13020670839825
  ],
  [
    290.21378811159536,
    197.11880341083645
  ],
  [
    274.5160798716532,
    219.42268775956575
  ],
  [
    278.00478248143924,
    215.04788434853148
  ],
  [
    283.0052577735289,
    212.51869022754107
  ],
  [
    287.32562972889593,
    212.3933784476271
  ],
  [
    291.55877611460545,
    210.3025972896348
  ],
  [
    298.9436647287778,
    209.71817142143667
  ],
  [
    307.46188587757274,
    210.99813424225596
  ],
  [
    303.42571881727224,
    216.37966980229106
  ],
  [
    297.7473300453072,
    220.5624461996888
  ],
  [
    290.49082169581834,
    223.30287456050326
  ],
  [
    283.867415455357,
    224.12946485041087
  ],
  [
    278.7574706852778,
    222.57172804438153
  ],
  [
    281.78633266738484,
    218.99326989816285
  ],
  [
    289.26099305761386,
    217.949743921591
  ],
  [
    297.81000243187896,
    214.8161029151584
  ],
  [
    297.13782865482585,
    212.95180143831797
  ],
  [
    288.4526936536488,
    215.61531065854763
  ],
  [
    281.20395175440854,
    216.9635126596246
  ],
  [
    281.05942203830443,
    196.44890151083177
  ],
  [
    256.151410011127,
    176.81904288954098
  ],
  [
    265.03565980809975,
    174.17801588573624
  ],
  [
    265.8154228191557,
    178.38410206238876
  ],
  [
    257.61665190148165,
    180.73309859216408
  ],
  [
    304.1629900910405,
    163.57040105858343
  ],
  [
    294.64548456135475,
    166.1957155770436
  ],
  [
    296.4363530514157,
    170.13934525804729
  ],
  [
    305.1171981551108,
    167.84329419878637
  ]
],"leon":[
  [
    35.352986031473435,
    68.37670624188549
  ],
  [
    33.68322793822858,
    80.76161939736517
  ],
  [
    34.53154960275077,
    92.65462735250269
  ],
  [
    36.86214364878409,
    104.27159483905791
  ],
  [
    41.94069272441308,
    114.11924270038156
  ],
  [
    49.85962346685763,
    121.59612915805235
  ],
  [
    59.61583195143025,
    127.0116157174432
  ],
  [
    70.4403923657634,
    129.18340296773067
  ],
  [
    81.31369209168531,
    127.80247256431619
  ],
  [
    91.28182251933586,
    123.0534255132522
  ],
  [
    99.53982076719993,
    116.12308018166819
  ],
  [
    105.17995560956399,
    106.66172687232736
  ],
  [
    108.33273718007284,
    95.30485458869438
  ],
  [
    110.0637551126973,
    83.54948072499067
  ],
  [
    109.39724506607735,
    71.16724150297287
  ],
  [
    102.2657036076724,
    60.771847017663816
  ],
  [
    96.90938149021424,
    56.87601053179819
  ],
  [
    88.1128911439482,
    56.35176746045413
  ],
  [
    81.15717108321454,
    57.55958993854728
  ],
  [
    43.693476021095584,
    58.439922176649034
  ],
  [
    49.45648104748388,
    54.97716033165594
  ],
  [
    58.320770587076225,
    55.143796174159455
  ],
  [
    65.18605367796113,
    56.90407599550579
  ],
  [
    48.45663427535591,
    68.11306489366194
  ],
  [
    55.26480858657052,
    65.05697709099178
  ],
  [
    62.486466079247684,
    68.32112715320415
  ],
  [
    55.224854225940085,
    70.00309190393972
  ],
  [
    55.44597860764632,
    67.4526459060242
  ],
  [
    96.72389315489147,
    70.02396618903094
  ],
  [
    90.21148509681878,
    66.45373779138545
  ],
  [
    82.76990486867267,
    69.13337280030854
  ],
  [
    89.86785519675394,
    71.37604016141381
  ],
  [
    89.77873410071275,
    68.81866821683523
  ],
  [
    72.88967478517893,
    65.19617480289938
  ],
  [
    64.60192369840715,
    80.68329654307655
  ],
  [
    60.901319487800095,
    86.01978518729331
  ],
  [
    63.83653281888839,
    89.94496829012454
  ],
  [
    72.00824465636249,
    91.1098924914026
  ],
  [
    80.0860162782028,
    90.56828367229988
  ],
  [
    83.29317676442739,
    86.88454882032255
  ],
  [
    80.05311792660129,
    81.283538866761
  ],
  [
    72.61694969344501,
    75.06276267668281
  ],
  [
    66.86079496421517,
    87.5824716463755
  ],
  [
    77.3838772454792,
    88.01811875166544
  ],
  [
    56.687296374486735,
    102.07736154834497
  ],
  [
    62.46658622728141,
    99.02422815106709
  ],
  [
    68.10430378374043,
    97.92250833049457
  ],
  [
    71.638256134446,
    98.84550842500144
  ],
  [
    75.22723633788394,
    98.19836541040803
  ],
  [
    80.65991462763061,
    99.73407310642662
  ],
  [
    86.02106197305922,
    103.20404997374246
  ],
  [
    82.05013849639633,
    106.38544698963275
  ],
  [
    77.28001033837984,
    108.19406036267779
  ],
  [
    71.22766558134671,
    108.59828567581633
  ],
  [
    65.17050506248668,
    107.72688869169444
  ],
  [
    60.47118127560678,
    105.55799841986145
  ],
  [
    64.32086739770727,
    102.88763895759075
  ],
  [
    71.41353484913667,
    103.65270242326518
  ],
  [
    78.46194396220348,
    103.43283844787129
  ],
  [
    78.47828725602885,
    102.0726756315074
  ],
  [
    71.51484791028165,
    101.7528822426734
  ],
  [
    64.45540105891003,
    101.53302792204877
  ],
  [
    72.33935974599049,
    84.36653100257632
  ],
  [
    51.37171473673364,
    65.95711759298234
  ],
  [
    59.401161606592936,
    65.95899585073141
  ],
  [
    59.03009413272915,
    69.42380889692325
  ],
  [
    51.53020375432622,
    69.41119818419787
  ],
  [
    94.00535289574887,
    67.65385030829032
  ],
  [
    86.0276361429566,
    67.0253056718968
  ],
  [
    86.12573288847648,
    70.50088074973917
  ],
  [
    93.58734513990841,
    71.07868885279582
  ]
],"skylar":[
  [
    33.03356709229448,
    79.45263839523025
  ],
  [
    33.73109032906954,
    91.95682546775373
  ],
  [
    36.32353309136106,
    103.51624566175053
  ],
  [
    40.23933906149949,
    114.57385813117028
  ],
  [
    46.16606134873514,
    123.84975735152128
  ],
  [
    54.06095921146108,
    130.77186202939146
  ],
  [
    63.2838388654676,
    135.8852606821168
  ],
  [
    74.32402459352969,
    137.1478041379304
  ],
  [
    85.23313211575658,
    133.8844616516471
  ],
  [
    93.90524747580432,
    127.17492959236027
  ],
  [
    100.71009316323156,
    118.77942682571917
  ],
  [
    104.94820643057542,
    108.33178481056653
  ],
  [
    106.60153469360817,
    96.49039215804376
  ],
  [
    106.79288928514674,
    84.61647465701157
  ],
  [
    104.93388500693054,
    72.24506826766893
  ],
  [
    96.84305855553612,
    63.87053323287539
  ],
  [
    90.5279766619584,
    60.92226119211156
  ],
  [
    81.56583325409264,
    62.11354101451868
  ],
  [
    74.7505211859403,
    64.5394603133732
  ],
  [
    37.78080789105115,
    69.4393310423784
  ],
  [
    42.99562999182264,
    65.41172620689449
  ],
  [
    51.86519722097154,
    64.88444148109338
  ],
  [
    58.9490252172553,
    65.99193665700616
  ],
  [
    43.58474691310923,
    77.22553226564395
  ],
  [
    49.92002800381313,
    73.29386918394005
  ],
  [
    57.72451759722202,
    75.64968729779658
  ],
  [
    50.50096492788436,
    77.90093298026312
  ],
  [
    50.497947348138666,
    75.55245457666022
  ],
  [
    92.67253419613351,
    72.56527973821574
  ],
  [
    85.4394915713288,
    69.93980875791553
  ],
  [
    78.33116269242946,
    73.74259726119612
  ],
  [
    85.81398386930067,
    74.56809286613574
  ],
  [
    85.4016584999237,
    72.26292306753612
  ],
  [
    67.50041975089414,
    71.6518228136888
  ],
  [
    61.047711014112885,
    86.9533154085077
  ],
  [
    58.185548086142674,
    92.66715392394525
  ],
  [
    61.40495880796041,
    96.07400112321443
  ],
  [
    69.8264359136524,
    96.52552565412674
  ],
  [
    78.34261133246277,
    94.48552177979789
  ],
  [
    80.93122911034736,
    90.44650255201306
  ],
  [
    76.88392647033301,
    85.41233536305816
  ],
  [
    68.24105578624255,
    80.96640517206096
  ],
  [
    63.77644734788626,
    93.53604033088814
  ],
  [
    75.27111893479352,
    92.38928320374613
  ],
  [
    56.14776257953984,
    109.81570944282979
  ],
  [
    60.8434467790259,
    105.42915773836779
  ],
  [
    66.66785915868263,
    103.48520626781031
  ],
  [
    70.67314006489289,
    103.8172735236486
  ],
  [
    74.59244889469173,
    102.72881796889595
  ],
  [
    80.91442827239362,
    103.5253826469113
  ],
  [
    86.78089493359195,
    106.92651042926563
  ],
  [
    83.6086632641509,
    112.11858309399457
  ],
  [
    78.81923489394251,
    115.58090406900209
  ],
  [
    72.06348914232949,
    117.10063953002003
  ],
  [
    65.23077595215732,
    116.83709380132441
  ],
  [
    60.12019274719563,
    114.3206190397145
  ],
  [
    63.95746930573243,
    112.32274178738109
  ],
  [
    71.63623612255434,
    112.61396487876425
  ],
  [
    79.27042467566692,
    110.9040453322857
  ],
  [
    78.71800619068998,
    105.8098401970858
  ],
  [
    71.00462319603075,
    106.61542270492693
  ],
  [
    63.41010900999713,
    107.25972200442138
  ],
  [
    68.99709007018211,
    90.0079425649497
  ],
  [
    46.13366514918515,
    74.693486424099
  ],
  [
    54.28217179268158,
    73.68741197562215
  ],
  [
    54.25601247285894,
    76.93595708083673
  ],
  [
    46.79956753425728,
    77.89481004107432
  ],
  [
    89.51457002990306,
    70.58194101322472
  ],
  [
    81.26212153652895,
    71.1560254588575
  ],
  [
    81.94709351576873,
    74.33133818110497
  ],
  [
    89.51382462683668,
    73.86203347635652
  ]
],"jason":[
  [
    38.237865109235045,
    74.3138772221076
  ],
  [
    37.699181805697336,
    86.37925941693442
  ],
  [
    39.201975399991454,
    97.9604547426662
  ],
  [
    42.455367806886116,
    109.44410745190945
  ],
  [
    48.0465580973521,
    119.43076861219448
  ],
  [
    55.839887238212626,
    127.25897493058204
  ],
  [
    65.10102398463124,
    133.48199699687456
  ],
  [
    76.0864339762414,
    135.48864645621538
  ],
  [
    86.91248618177363,
    132.80436042011445
  ],
  [
    95.75522600146613,
    126.04560069463716
  ],
  [
    102.96449990581132,
    117.72246794763139
  ],
  [
    107.86297443215193,
    107.36228483927067
  ],
  [
    110.34484198088211,
    95.6027849385764
  ],
  [
    111.05620256404427,
    83.93804968756717
  ],
  [
    109.75505448562964,
    71.96330013862975
  ],
  [
    102.38954593889886,
    64.76072503890403
  ],
  [
    96.462910897175,
    61.88283486745392
  ],
  [
    87.79279675546293,
    62.455524701847125
  ],
  [
    81.02378248299219,
    64.23125541026944
  ],
  [
    44.96758905611233,
    66.45801308592935
  ],
  [
    50.62142547018058,
    63.257897420935095
  ],
  [
    59.278593197746495,
    63.295116068121565
  ],
  [
    66.13529833478137,
    64.65260054537734
  ],
  [
    50.041668246292666,
    73.87784646580499
  ],
  [
    56.603786816747984,
    70.78315520258619
  ],
  [
    63.94417325642793,
    73.26940624051272
  ],
  [
    56.794528254696374,
    74.7604043985366
  ],
  [
    56.839811604133445,
    72.72088137150524
  ],
  [
    97.68680561901073,
    72.42313958533032
  ],
  [
    90.8641947747715,
    69.75293651128146
  ],
  [
    83.74689792563466,
    72.68334111852445
  ],
  [
    90.94243004110481,
    73.72619645170641
  ],
  [
    90.70461346174505,
    71.70097919560702
  ],
  [
    73.80133033754439,
    70.25471159732012
  ],
  [
    66.32679523941897,
    84.60665344930601
  ],
  [
    63.092486961667504,
    89.87470129792348
  ],
  [
    65.99879500166348,
    93.35138828857302
  ],
  [
    74.6821481406493,
    94.79078041692199
  ],
  [
    83.21457489617728,
    92.81052125466292
  ],
  [
    85.9076015547715,
    89.14009027404063
  ],
  [
    82.32929946714373,
    84.08888897670921
  ],
  [
    74.15304322495697,
    79.61236445590113
  ],
  [
    68.71595191885062,
    91.58128311992783
  ],
  [
    80.42768593052668,
    91.21329619120735
  ],
  [
    58.95442090958761,
    106.01014771301254
  ],
  [
    64.26010844317882,
    101.99481236400499
  ],
  [
    70.6596567141323,
    100.68966447763638
  ],
  [
    74.85967273957851,
    101.28904836373005
  ],
  [
    79.02337243696482,
    100.41860162516552
  ],
  [
    85.47906937783867,
    101.3242645000174
  ],
  [
    91.02700671211944,
    104.99443297489569
  ],
  [
    87.70812670298922,
    111.14735305861652
  ],
  [
    82.63307064160091,
    115.1385079584162
  ],
  [
    75.3493407533149,
    116.43872022708311
  ],
  [
    67.97606524862124,
    115.5912808283924
  ],
  [
    62.669172358575906,
    111.93618210160865
  ],
  [
    66.98892047256587,
    110.90777323782507
  ],
  [
    75.21027183767563,
    112.0155799734404
  ],
  [
    83.31954696498879,
    110.40139637088015
  ],
  [
    83.06501106149638,
    103.27024008096589
  ],
  [
    74.95111665348284,
    103.76727895606007
  ],
  [
    66.7832281809705,
    103.79084701656333
  ],
  [
    74.4779361917905,
    88.61113866336399
  ],
  [
    52.857535180552254,
    71.79833515833718
  ],
  [
    60.74812088824736,
    71.34749314669484
  ],
  [
    60.45791211362756,
    74.17388017097736
  ],
  [
    53.25926310521936,
    74.57209964882578
  ],
  [
    94.6934345612982,
    70.53253196348192
  ],
  [
    86.78385837224178,
    70.57035352201913
  ],
  [
    87.25690681560137,
    73.36304543479125
  ],
  [
    94.48082421484466,
    73.32640979712218
  ]
],"shawn":[
  [
    155.16641790222363,
    126.92146713149978
  ],
  [
    154.5408550970186,
    143.91242087483536
  ],
  [
    156.805465979735,
    160.35550865385383
  ],
  [
    160.61918925953154,
    177.23487098796753
  ],
  [
    167.7931111042861,
    191.36381560921905
  ],
  [
    178.06086634958334,
    202.3813566105061
  ],
  [
    190.60037785121594,
    210.68840420832146
  ],
  [
    205.93027317750636,
    213.29004563557908
  ],
  [
    221.41962238116116,
    209.9592390903075
  ],
  [
    234.3036200614223,
    201.21872391572242
  ],
  [
    245.02716195629546,
    189.95132407641
  ],
  [
    252.35373727189545,
    175.56094708295836
  ],
  [
    255.71081674336327,
    158.35416927409187
  ],
  [
    257.25346015552225,
    141.55150435525172
  ],
  [
    255.4945514494695,
    124.17010203104027
  ],
  [
    244.179870724708,
    116.38540165795035
  ],
  [
    236.09454409111476,
    113.48641802117886
  ],
  [
    224.17518599401672,
    114.39900996100687
  ],
  [
    215.01868644334405,
    116.61309581859828
  ],
  [
    164.83327908677472,
    119.56953530763329
  ],
  [
    172.4484495235574,
    116.00476792877272
  ],
  [
    184.3484693214126,
    116.05927047371125
  ],
  [
    193.6059405434281,
    117.57100765517032
  ],
  [
    171.97653299739795,
    128.30848966699347
  ],
  [
    181.1501342693303,
    123.62906121278394
  ],
  [
    191.12045064171568,
    127.70655476091866
  ],
  [
    181.35696609803676,
    130.37769479587604
  ],
  [
    181.6218574619876,
    126.64225475207377
  ],
  [
    237.88893442084822,
    125.88936883325478
  ],
  [
    228.47567552530617,
    121.80169865335652
  ],
  [
    218.66581799559566,
    126.64157767606788
  ],
  [
    228.74637416998158,
    128.63806684797703
  ],
  [
    228.63007743022607,
    124.86474394104084
  ],
  [
    204.32356992582325,
    124.1167200919543
  ],
  [
    193.74847913487457,
    145.93048966271363
  ],
  [
    189.7679176927359,
    153.85296446579991
  ],
  [
    193.93182620964365,
    159.16148750616685
  ],
  [
    204.80865830695583,
    160.57421405445456
  ],
  [
    216.10181561782224,
    158.47394671277627
  ],
  [
    219.99389161234052,
    152.98418697193804
  ],
  [
    215.42428890061186,
    145.2698347086154
  ],
  [
    204.2762024656467,
    138.57610474485796
  ],
  [
    196.76359841312873,
    156.0535258433484
  ],
  [
    212.58650328158404,
    155.44345481917514
  ],
  [
    186.7585842583184,
    177.69515165358447
  ],
  [
    193.13100604998812,
    173.37097806259453
  ],
  [
    200.07482639445453,
    171.5271475382021
  ],
  [
    205.13977908232624,
    172.46186143789302
  ],
  [
    210.15155506340466,
    171.21443494813226
  ],
  [
    217.4204057215675,
    172.5809345878368
  ],
  [
    224.50029291454285,
    176.4946968431051
  ],
  [
    219.6001787178989,
    180.5119718822105
  ],
  [
    213.46114749705384,
    182.973875815013
  ],
  [
    205.4411322593848,
    183.97336077511403
  ],
  [
    197.57108528062994,
    183.55045943921394
  ],
  [
    191.47734032937012,
    181.41548111549756
  ],
  [
    196.1622416443441,
    177.5394131609503
  ],
  [
    205.27591259393674,
    177.89033075743345
  ],
  [
    214.6385511886025,
    176.87720175431377
  ],
  [
    214.6072452282791,
    175.49112300736306
  ],
  [
    205.21328970547233,
    176.1741545540208
  ],
  [
    196.16391710899214,
    176.06879760669247
  ],
  [
    204.34432355550155,
    152.41202820306432
  ],
  [
    175.739308618107,
    125.05097641566843
  ],
  [
    186.97891912293727,
    124.52321408646701
  ],
  [
    186.5119464731883,
    129.2762201886124
  ],
  [
    176.23045153998208,
    129.80304177902008
  ],
  [
    233.99380927452697,
    122.84802248453725
  ],
  [
    222.6465991328375,
    123.1588355339982
  ],
  [
    223.45505524427705,
    127.89748868899451
  ],
  [
    233.76725081919412,
    127.67737311883363
  ]
],
"kanye":[
  [
    77.83664700673728,
    163.58870680094304
  ],
  [
    80.66145908877891,
    193.42468511340354
  ],
  [
    87.57209947630463,
    220.33983912228564
  ],
  [
    97.00507178239232,
    246.6677717475958
  ],
  [
    111.0645010669354,
    269.02149591475006
  ],
  [
    129.33831047705058,
    286.91030983100734
  ],
  [
    151.1208786905266,
    300.01409831207263
  ],
  [
    178.11000959665483,
    301.7402829131282
  ],
  [
    203.88618705605236,
    292.35886467179444
  ],
  [
    222.05593248969203,
    273.64357478299985
  ],
  [
    235.35911913128228,
    251.16636178971464
  ],
  [
    243.16129498953356,
    225.38926517062436
  ],
  [
    244.94402856255275,
    196.85589173301295
  ],
  [
    243.608697361523,
    168.75811630921126
  ],
  [
    237.7015914685259,
    139.20629077167712
  ],
  [
    220.5034529253885,
    119.6294549748346
  ],
  [
    206.01730352838103,
    113.7883650644065
  ],
  [
    185.35513814647805,
    116.7846476265154
  ],
  [
    169.9008586105204,
    122.07375001109861
  ],
  [
    87.50960458971454,
    139.63200367821293
  ],
  [
    98.94071759076152,
    130.24551431880198
  ],
  [
    119.02137388359967,
    127.01963294450417
  ],
  [
    135.17951872000117,
    127.42442336813164
  ],
  [
    100.63109501579117,
    154.39121050208865
  ],
  [
    114.2053448460439,
    143.26082537974986
  ],
  [
    132.30429164783425,
    149.42399209480442
  ],
  [
    116.25410488013242,
    155.5366652311925
  ],
  [
    115.50877158200029,
    149.3041603916194
  ],
  [
    210.77774204826895,
    137.43115152501355
  ],
  [
    193.9270357390099,
    130.9752373396293
  ],
  [
    178.919142585384,
    142.3391445007787
  ],
  [
    195.89051924994774,
    143.28838476136767
  ],
  [
    194.44044533906674,
    137.1543618925034
  ],
  [
    154.658885251987,
    139.75743310110124
  ],
  [
    142.66294731986477,
    181.0503150391612
  ],
  [
    137.14208399375818,
    195.72002549778045
  ],
  [
    145.27076865733397,
    203.8321001040327
  ],
  [
    164.1420055117013,
    203.3859728798097
  ],
  [
    182.43480565132182,
    198.2221186750253
  ],
  [
    187.9177697968517,
    188.0712515432635
  ],
  [
    178.04501800569852,
    175.64547281496596
  ],
  [
    158.17379595255773,
    164.428460291885
  ],
  [
    149.13608365602215,
    196.72095115870957
  ],
  [
    176.2818357039598,
    192.46331015177796
  ],
  [
    136.74778075855528,
    239.55035419007606
  ],
  [
    145.61888857840086,
    228.70202577259323
  ],
  [
    157.6469549692,
    223.2490715408714
  ],
  [
    166.68793989934792,
    223.48275738801334
  ],
  [
    175.38688794121282,
    220.51547702876755
  ],
  [
    188.58273044091678,
    222.20397030240812
  ],
  [
    200.63069943873262,
    229.77662217163598
  ],
  [
    194.04325134834664,
    238.66558500029373
  ],
  [
    184.14999070657848,
    245.19052131859027
  ],
  [
    170.335719846859,
    248.95966342000463
  ],
  [
    156.1544480400535,
    249.4886577966252
  ],
  [
    145.0819948005759,
    246.0918877315986
  ],
  [
    152.82522778847894,
    239.95834716182577
  ],
  [
    168.95171591264315,
    239.3730890435457
  ],
  [
    184.71138818970707,
    235.02103406625244
  ],
  [
    183.6859488610597,
    227.5015326559325
  ],
  [
    167.73155128979357,
    230.2716142235805
  ],
  [
    151.91354572323536,
    232.35512117122298
  ],
  [
    161.59139503674436,
    188.4582381577875
  ],
  [
    105.57207778657039,
    147.2367709479348
  ],
  [
    124.36103216736157,
    144.07420694259298
  ],
  [
    124.58880968888994,
    152.73909865661898
  ],
  [
    107.67750877940281,
    155.75176026898944
  ],
  [
    203.5922788472962,
    132.11699429228528
  ],
  [
    184.57665454943123,
    134.89925783331046
  ],
  [
    187.085839258985,
    143.14378893623206
  ],
  [
    204.2360567666263,
    140.9275682380143
  ]
],
"kc":[
  [
    31.874971031651594,
    73.30967683350819
  ],
  [
    31.109228489568682,
    85.47252016729125
  ],
  [
    32.372044281707325,
    97.52905633150857
  ],
  [
    35.07317383770762,
    109.4713250745109
  ],
  [
    39.95074942193453,
    119.80279338374488
  ],
  [
    46.812884319808475,
    128.42230756517753
  ],
  [
    55.212718567581035,
    135.53954332874451
  ],
  [
    65.89026214505435,
    138.1209340393899
  ],
  [
    77.11005236890637,
    136.0055306212771
  ],
  [
    86.63995476316074,
    129.43696142883016
  ],
  [
    94.53067148263052,
    121.05553398982178
  ],
  [
    100.22818133727156,
    110.63721456529518
  ],
  [
    103.22325508575304,
    98.30984145515623
  ],
  [
    104.60070394508203,
    86.13493128083317
  ],
  [
    103.75554766965449,
    73.81362519841973
  ],
  [
    95.64412050802794,
    66.8022113615639
  ],
  [
    89.54212575894213,
    64.05216881081702
  ],
  [
    80.69279433001809,
    64.65027240645088
  ],
  [
    73.81411502658327,
    66.36469148815046
  ],
  [
    37.4082185104936,
    66.2673816600636
  ],
  [
    42.835665444139764,
    63.61022880852819
  ],
  [
    51.428475170406124,
    64.35832860666697
  ],
  [
    58.15114188603395,
    66.19665033388426
  ],
  [
    42.45184299491093,
    74.6083775927923
  ],
  [
    49.05863584604813,
    71.44487553287016
  ],
  [
    56.37344658427689,
    75.03885061652801
  ],
  [
    49.02804055398437,
    76.59162410247069
  ],
  [
    49.401383210027575,
    73.87336750673771
  ],
  [
    90.7194682140694,
    75.09075082899494
  ],
  [
    83.81508665894258,
    71.78836363434004
  ],
  [
    76.5080873718448,
    75.27564138943785
  ],
  [
    83.81727721927385,
    76.95981045049115
  ],
  [
    83.69333241594637,
    74.23218983274822
  ],
  [
    65.93179845734426,
    72.879526784171
  ],
  [
    57.98225740807665,
    88.84945920085129
  ],
  [
    54.816837811658914,
    94.19650464903572
  ],
  [
    57.604280196180206,
    97.94169895470765
  ],
  [
    65.37880342011316,
    99.75492963205704
  ],
  [
    73.89477464610549,
    98.16392750656556
  ],
  [
    76.89486064698104,
    94.38370405311788
  ],
  [
    73.59502390743394,
    88.97697746731811
  ],
  [
    65.44642825957713,
    83.62634814479671
  ],
  [
    59.66481667666507,
    96.2580774150425
  ],
  [
    71.33151321584475,
    96.27658175930807
  ],
  [
    51.87031875174495,
    110.23649547057272
  ],
  [
    56.57405060556684,
    107.16882224571023
  ],
  [
    61.93891091140921,
    106.1518666574521
  ],
  [
    65.65186593104048,
    106.92068603025817
  ],
  [
    69.4422616314632,
    106.23856714519617
  ],
  [
    75.25740466230168,
    107.38193166113919
  ],
  [
    80.6880820496736,
    110.62819276700814
  ],
  [
    77.10602011445697,
    115.05385414095237
  ],
  [
    72.20798550401325,
    117.92681167465318
  ],
  [
    65.72827187847912,
    118.75412582396015
  ],
  [
    59.47278613574731,
    117.72437438544473
  ],
  [
    55.084824217258536,
    114.73590523843845
  ],
  [
    58.82683401171152,
    112.85360654766166
  ],
  [
    65.78336019694659,
    114.01158196950962
  ],
  [
    73.09178670826488,
    113.07974551555733
  ],
  [
    72.99381519767745,
    109.50509031395251
  ],
  [
    65.7147571883662,
    109.72142062849336
  ],
  [
    58.76908553324284,
    109.3268581772991
  ],
  [
    65.0743482254186,
    93.88736932104376
  ],
  [
    45.14827255960216,
    72.33687505140892
  ],
  [
    53.325702898035146,
    72.42101794966601
  ],
  [
    52.84211394248865,
    76.03266460932119
  ],
  [
    45.36587646586318,
    75.9680899829003
  ],
  [
    87.8411208015704,
    72.7566612583665
  ],
  [
    79.54125135233149,
    72.6916172738512
  ],
  [
    80.00460154159386,
    76.32081701241106
  ],
  [
    87.57914171210679,
    76.40947982575666
  ]
],"ondina":[
  [
    33.75164651381672,
    78.37682708090864
  ],
  [
    33.9425870598453,
    90.71205031892393
  ],
  [
    36.26401154070025,
    102.82648043792614
  ],
  [
    40.09918192665252,
    114.6877548074703
  ],
  [
    45.66284006840473,
    124.69350669416866
  ],
  [
    52.70894832424567,
    132.8080876720765
  ],
  [
    60.90127818873284,
    139.62969431984476
  ],
  [
    71.38807739258132,
    141.6534834398145
  ],
  [
    83.03384986766218,
    138.63618298721101
  ],
  [
    93.24663477917474,
    131.24122561822224
  ],
  [
    101.63566102589547,
    122.24256163699351
  ],
  [
    107.49249321667698,
    111.04211120759183
  ],
  [
    110.02539918119136,
    97.94171013737564
  ],
  [
    110.47915515828066,
    85.2777069452014
  ],
  [
    108.53909603379415,
    72.64351872776956
  ],
  [
    97.22303402590737,
    68.09430824735293
  ],
  [
    89.98113851858346,
    66.06450331046409
  ],
  [
    80.86058263477851,
    67.47609234665065
  ],
  [
    73.87603050689619,
    69.76104623433247
  ],
  [
    38.30448955021619,
    72.15190275430675
  ],
  [
    43.358912242875284,
    69.54991626164082
  ],
  [
    51.65602291014435,
    69.67206322141261
  ],
  [
    58.51766019406738,
    70.91448418539841
  ],
  [
    43.7407806829212,
    79.45763369728422
  ],
  [
    49.99136019037871,
    75.85056044260816
  ],
  [
    57.88860761020543,
    78.83689374644709
  ],
  [
    50.432315569403634,
    80.79744225720978
  ],
  [
    50.54583588214135,
    78.10324135466333
  ],
  [
    92.30812193883612,
    75.84979181772718
  ],
  [
    84.51548526088438,
    73.25669707895581
  ],
  [
    77.5592651180356,
    77.5053329413935
  ],
  [
    85.11463370436438,
    78.26721409999101
  ],
  [
    84.83410892059926,
    75.57444909024085
  ],
  [
    66.42757298959404,
    76.06519357243859
  ],
  [
    59.1946553172522,
    92.87086287883854
  ],
  [
    56.70619594135581,
    98.3221561635905
  ],
  [
    59.631334205501744,
    101.68882518717366
  ],
  [
    67.4286147674186,
    103.28596760498681
  ],
  [
    76.55701111222135,
    100.6522778631144
  ],
  [
    79.33877433001804,
    96.69932866804852
  ],
  [
    75.44420217717412,
    91.68899416199739
  ],
  [
    66.16721473395313,
    87.21774097606242
  ],
  [
    61.2593635993097,
    100.43771982675037
  ],
  [
    73.31030811942477,
    99.30096995217252
  ],
  [
    54.13831205780435,
    114.15694664238583
  ],
  [
    58.290192508790085,
    110.37683687177565
  ],
  [
    64.06776395286658,
    109.0862564219095
  ],
  [
    68.23030228386672,
    109.59595830529565
  ],
  [
    72.51126850890263,
    108.49916263178439
  ],
  [
    79.48303544296444,
    108.97086133134991
  ],
  [
    86.10403560844131,
    112.05080322677452
  ],
  [
    82.48978113616076,
    118.46395520377246
  ],
  [
    77.04320157116064,
    122.84242349365799
  ],
  [
    69.52615456699371,
    124.45731778237419
  ],
  [
    62.42864033220107,
    123.77351123155705
  ],
  [
    57.59588433175883,
    120.03559871484512
  ],
  [
    61.43530756055003,
    118.6295939657314
  ],
  [
    69.25690890726366,
    119.51540352309755
  ],
  [
    77.7344483419943,
    117.56047005628963
  ],
  [
    77.15210384634481,
    111.09736126048992
  ],
  [
    68.6057103045975,
    112.03735015540046
  ],
  [
    60.895939917605766,
    112.15371290220489
  ],
  [
    66.07569883033207,
    97.6878302268784
  ],
  [
    46.211934534927536,
    77.04264329728586
  ],
  [
    54.476948985888285,
    76.43676353732266
  ],
  [
    54.255590209263644,
    80.03202006835203
  ],
  [
    46.75820630020344,
    80.5115181521858
  ],
  [
    88.83733654051032,
    73.82441828914521
  ],
  [
    80.23452093900534,
    74.58880731495127
  ],
  [
    81.18401869654629,
    78.09703896723065
  ],
  [
    88.95047288873147,
    77.43487767839994
  ]
],"emma":[
  [
    147.20521954597965,
    175.35335750554074
  ],
  [
    144.6150479206268,
    203.49457166388328
  ],
  [
    147.07954561080942,
    230.33683514522573
  ],
  [
    153.4057018865508,
    257.53585701533353
  ],
  [
    167.12902182469688,
    279.9117317756746
  ],
  [
    186.8322805702805,
    297.13928414859936
  ],
  [
    210.5745690951743,
    310.98026179156113
  ],
  [
    236.6519784331248,
    317.00519074817146
  ],
  [
    258.75307596646905,
    312.2413107072383
  ],
  [
    275.05316142507525,
    298.92480069349244
  ],
  [
    288.9910360759873,
    283.04060987680737
  ],
  [
    299.93383191425346,
    263.05345866976205
  ],
  [
    307.96912885010505,
    238.39330856446955
  ],
  [
    313.5970621466527,
    212.87225676100843
  ],
  [
    315.387954630982,
    186.05804502026774
  ],
  [
    307.3110411963106,
    170.05642472733123
  ],
  [
    296.31103229574,
    164.5620796492857
  ],
  [
    278.00635651319476,
    165.49684283014133
  ],
  [
    262.9316256406091,
    169.03223975822337
  ],
  [
    174.71975955445228,
    162.11835188700726
  ],
  [
    191.28850095694747,
    157.74161114507368
  ],
  [
    211.72495037421697,
    161.13359372325047
  ],
  [
    227.2718757794509,
    166.61784939491523
  ],
  [
    185.20431282416058,
    179.72987303459644
  ],
  [
    202.58498839439815,
    174.02911185550448
  ],
  [
    218.1666684149819,
    183.24214721042824
  ],
  [
    201.36798327189464,
    185.121281175062
  ],
  [
    201.611867752507,
    178.81856499443424
  ],
  [
    295.1723708380815,
    186.63344120541046
  ],
  [
    281.2875921734395,
    179.1116976411033
  ],
  [
    263.93949188125873,
    185.8040830408545
  ],
  [
    280.3884984597222,
    189.94236743146413
  ],
  [
    279.6726430721319,
    183.70821635577153
  ],
  [
    245.05276034858167,
    180.09929466142393
  ],
  [
    226.3622548642265,
    214.5751335116101
  ],
  [
    217.3169038079554,
    225.54813487573404
  ],
  [
    223.90837749686966,
    234.25294478663832
  ],
  [
    244.90475957993368,
    239.85703133046636
  ],
  [
    261.3006515611069,
    235.91438420188663
  ],
  [
    267.74441490801144,
    228.4625315758589
  ],
  [
    261.8946886975326,
    216.63078890266587
  ],
  [
    247.04036517283765,
    204.84497247717155
  ],
  [
    231.48463208883334,
    231.101076165079
  ],
  [
    258.4670517545273,
    233.45556126164402
  ],
  [
    202.91739848234994,
    257.6904871625629
  ],
  [
    218.58184000123032,
    251.68761253797078
  ],
  [
    233.93655160712103,
    250.9297630226716
  ],
  [
    242.8592764241989,
    253.2048187587991
  ],
  [
    251.38068295458902,
    251.84954165936003
  ],
  [
    263.3254688141147,
    253.96950544732385
  ],
  [
    272.2900999280853,
    261.15320958981357
  ],
  [
    264.9648762956771,
    273.4534781055073
  ],
  [
    254.9655635165352,
    281.3128139738351
  ],
  [
    240.40215585575913,
    282.96660823836237
  ],
  [
    224.28683902001,
    279.81682087151387
  ],
  [
    211.80157944106793,
    270.9487381329309
  ],
  [
    222.5351675147875,
    268.106599929637
  ],
  [
    240.82971974839097,
    271.7744949128586
  ],
  [
    256.8229882200013,
    269.83878652668164
  ],
  [
    257.82845655465934,
    258.41310183709635
  ],
  [
    242.00264998680194,
    258.6814001265178
  ],
  [
    223.52516107174014,
    256.7864173814463
  ],
  [
    248.37032872254053,
    227.9932760311239
  ],
  [
    192.93726313319786,
    175.31440062943918
  ],
  [
    212.15725511844028,
    176.91094774265662
  ],
  [
    210.05705319593514,
    184.57816719473277
  ],
  [
    192.818390260891,
    183.285573196381
  ],
  [
    289.6728351898232,
    181.57932010664973
  ],
  [
    271.3904249405131,
    180.52413622829323
  ],
  [
    272.00532359278753,
    188.27361443367482
  ],
  [
    288.513840455151,
    189.16302058870545
  ]
],
"paula":[
  [
    42.02955922501404,
    72.72767950932638
  ],
  [
    41.474907429127164,
    84.68563217950515
  ],
  [
    42.85258793747843,
    96.05219683474529
  ],
  [
    45.87803036820915,
    107.04514152710881
  ],
  [
    50.83428816733089,
    116.77590001156864
  ],
  [
    57.712138941017166,
    124.64258559750546
  ],
  [
    66.10704759618254,
    131.0168210691361
  ],
  [
    76.59025489028063,
    133.367931973295
  ],
  [
    87.34651234327548,
    130.8494367044952
  ],
  [
    96.30851792432472,
    124.54773708991797
  ],
  [
    103.64654631573178,
    116.6494473639795
  ],
  [
    108.90087407699181,
    106.74702698683171
  ],
  [
    111.80415699188246,
    95.32034612774129
  ],
  [
    112.81432967183503,
    83.72943394747858
  ],
  [
    111.80039329738527,
    71.5470515561712
  ],
  [
    103.93332281652087,
    62.892286224133784
  ],
  [
    97.99408383019005,
    59.88603274986697
  ],
  [
    89.4956562817121,
    60.43629899730964
  ],
  [
    82.91418784245627,
    62.301341970015415
  ],
  [
    48.000691801407015,
    63.80047633799097
  ],
  [
    53.21660504272205,
    60.77289970428927
  ],
  [
    61.38947444778286,
    61.023694216258065
  ],
  [
    67.90588755029964,
    62.61322192332439
  ],
  [
    52.83545337406878,
    71.4584429652235
  ],
  [
    59.05931437371194,
    68.11568229203382
  ],
  [
    66.17997423866774,
    71.22760824821552
  ],
  [
    59.236536911820735,
    72.5893659425459
  ],
  [
    59.33789369954479,
    70.35140731435722
  ],
  [
    98.93867927722499,
    70.55774724965768
  ],
  [
    92.22829527375953,
    67.45199102995734
  ],
  [
    85.38167312005046,
    70.87736031321086
  ],
  [
    92.3178173264945,
    71.95631497708497
  ],
  [
    92.13148688315569,
    69.71389222674355
  ],
  [
    75.4610006552846,
    68.48238900698688
  ],
  [
    68.10063301321239,
    82.6544234326096
  ],
  [
    64.91839421787037,
    87.78832587644307
  ],
  [
    67.69295016081213,
    91.22247170247672
  ],
  [
    75.67084930300679,
    92.7052809507459
  ],
  [
    83.99513826501777,
    90.97163504305769
  ],
  [
    86.7576392205549,
    87.4071178444556
  ],
  [
    83.20702026549338,
    82.36540557301556
  ],
  [
    75.35847577903769,
    77.73756396536356
  ],
  [
    70.0282957954457,
    89.52878348639041
  ],
  [
    81.20858441344248,
    89.2326070801227
  ],
  [
    60.943937206996324,
    103.90746719327062
  ],
  [
    65.66407350834055,
    99.7386109779474
  ],
  [
    71.799654834084,
    98.43698833575499
  ],
  [
    75.79707964707994,
    99.06429533002233
  ],
  [
    79.8358661937267,
    98.28157533596232
  ],
  [
    86.28729402691316,
    99.38633630026752
  ],
  [
    91.68655950053508,
    103.38397223187025
  ],
  [
    88.41434195865517,
    109.91715268147559
  ],
  [
    83.31629523021545,
    114.16849325667897
  ],
  [
    76.09971322018579,
    115.46118687586583
  ],
  [
    68.99534502620031,
    114.40074607940431
  ],
  [
    64.0905612110039,
    110.30238665487114
  ],
  [
    68.27110962531978,
    109.68212310914612
  ],
  [
    76.05729038343553,
    111.05300815853906
  ],
  [
    84.02761168161334,
    109.4112901153765
  ],
  [
    83.8666479566931,
    101.17319330987085
  ],
  [
    75.89489040979848,
    101.44255994576548
  ],
  [
    68.16379966592356,
    101.43890011941087
  ],
  [
    75.2919826706,
    86.61289117706625
  ],
  [
    55.41353781169374,
    69.17600429659154
  ],
  [
    63.142087570001685,
    68.92537871095212
  ],
  [
    62.77987488593093,
    72.06094547890174
  ],
  [
    55.80933305446503,
    72.30970970135019
  ],
  [
    96.05731526334733,
    68.365803696034
  ],
  [
    88.20406256839071,
    68.45152101763583
  ],
  [
    88.74312302026169,
    71.56338551636415
  ],
  [
    95.81341671512922,
    71.54993192648726
  ]
],"marina":[
  [
    134.0435668397646,
    95.55647775384577
  ],
  [
    131.6088017478063,
    113.61124770866755
  ],
  [
    133.07143145626378,
    130.7464528554117
  ],
  [
    136.92898849354987,
    148.15268096022643
  ],
  [
    145.3947468911239,
    162.6663597558619
  ],
  [
    157.61750928365555,
    173.94892510742096
  ],
  [
    172.4645244459882,
    181.98538865300884
  ],
  [
    188.48592785086515,
    184.70363662893186
  ],
  [
    202.4975462471274,
    181.94942052152973
  ],
  [
    213.53381468790064,
    173.4041165808875
  ],
  [
    222.6340475477882,
    162.14525099984127
  ],
  [
    229.1505378944618,
    148.31895420235304
  ],
  [
    233.14264282398324,
    132.14571537477264
  ],
  [
    235.48563759619984,
    115.60978412077385
  ],
  [
    234.4636576212193,
    98.32734898651154
  ],
  [
    227.61496968274142,
    86.39746280683696
  ],
  [
    221.51089235238172,
    83.25611837697092
  ],
  [
    210.9158578025162,
    83.15257426017246
  ],
  [
    202.21999926308268,
    84.62186679492521
  ],
  [
    150.1604721335296,
    84.57816408715094
  ],
  [
    159.1563152855503,
    81.32704506160675
  ],
  [
    171.15596766376854,
    81.85068742087888
  ],
  [
    180.32517207835576,
    83.89409383369885
  ],
  [
    156.8627634380962,
    95.05715164097921
  ],
  [
    166.76047684995154,
    90.6003805245598
  ],
  [
    175.95169098052767,
    95.8604850911997
  ],
  [
    166.32776395688515,
    97.83600889866014
  ],
  [
    166.38945449677948,
    93.9593023835875
  ],
  [
    221.10494507619106,
    96.98412734347511
  ],
  [
    212.99104806171368,
    92.05589559117742
  ],
  [
    203.02303757360852,
    96.53471295290885
  ],
  [
    212.6544198153088,
    99.16746139369172
  ],
  [
    212.39264790669432,
    95.32719017884268
  ],
  [
    191.33629751307095,
    93.08946089002669
  ],
  [
    180.65824695949493,
    115.77305099528648
  ],
  [
    175.7234757822829,
    123.61647521072098
  ],
  [
    179.99713724429733,
    129.30194450035782
  ],
  [
    191.87318369263667,
    131.13320128135308
  ],
  [
    201.34405839957017,
    129.62614007761744
  ],
  [
    205.34318653996573,
    124.40528031927724
  ],
  [
    201.7473056344452,
    116.35141503926896
  ],
  [
    192.56753244031324,
    108.21850883653076
  ],
  [
    184.27080549603204,
    125.92069928501404
  ],
  [
    199.4001686751747,
    126.73950328306398
  ],
  [
    170.04427630716563,
    147.6833180125642
  ],
  [
    178.08062320771577,
    143.43418005209662
  ],
  [
    185.87027424459473,
    141.82282070468108
  ],
  [
    190.9249358684477,
    143.05000440753162
  ],
  [
    195.72863386464763,
    142.0707431292239
  ],
  [
    201.77156490584156,
    143.95390939319813
  ],
  [
    206.57492354091602,
    148.42867562491517
  ],
  [
    202.39408788557128,
    151.8173409311734
  ],
  [
    197.21753727730245,
    153.9211795755375
  ],
  [
    190.17774337295867,
    154.5055479295243
  ],
  [
    182.2835933362767,
    153.66533271704233
  ],
  [
    175.4871743884786,
    151.36264760400667
  ],
  [
    180.68786728487828,
    147.523695637549
  ],
  [
    190.21026361281727,
    148.35103473648746
  ],
  [
    198.46750029083992,
    147.87409418519056
  ],
  [
    198.68076527181796,
    146.6728833691343
  ],
  [
    190.52182834459884,
    146.7794051195943
  ],
  [
    180.99987343287188,
    146.34150096928875
  ],
  [
    193.49862488237667,
    122.60250746090838
  ],
  [
    161.07659604838614,
    91.76190451576211
  ],
  [
    172.34275164465976,
    92.10068746977609
  ],
  [
    171.4143162416309,
    97.10485399230137
  ],
  [
    161.21002890249792,
    96.90415664060663
  ],
  [
    218.02041607006575,
    93.55161528886697
  ],
  [
    207.2780871768122,
    93.10583977892306
  ],
  [
    207.67171964482853,
    98.11593263532399
  ],
  [
    217.4513074243585,
    98.5184383776809
  ]
],
				};

			var currentMask = 0;
			var animationRequest;
	
			function drawGridLoop() {
				// get position of face
				positions = ctrack.getCurrentPosition(vid);
				overlayCC.clearRect(0, 0, 500, 375);
				if (positions) {
					// draw current grid
					ctrack.draw(overlay);
				}
				// check whether mask has converged
				var pn = ctrack.getConvergence();
				if (pn < 0.4) {
					switchMasks();
					requestAnimFrame(drawMaskLoop);
				} else {
					requestAnimFrame(drawGridLoop);
				}
			}
				
			function switchMasks() {
				// get mask
				var maskname = Object.keys(masks)[currentMask];
				fd.load(document.getElementById(maskname), masks[maskname], pModel);
			}

			var gldataUrl;
			
			function drawMaskLoop() {
				// get position of face
				positions = ctrack.getCurrentPosition();
				// overlayCC.clearRect(0, 0, 400, 300);
				if (positions) {
					// draw mask on top of face
					fd.draw(positions);
				}
				gldataUrl=webGLcanvas.toDataURL('image/webp', 1);
				document.getElementById('imagefile2').src = gldataUrl;
				fd.clear();
				animationRequest = requestAnimFrame(drawMaskLoop);
			}

			//draw all canvas onto a canvas
			var thecanvas = document.getElementById("thecanvas");
			var dataUrl;
			var ctx = thecanvas.getContext('2d');
			var draw = function(){
				ctx.clearRect(0, 0, 320.25, 240);
				// gl = webGLcanvas.getContext('webgl');
				// gl.clearColor(1.0, 1.0, 0.0, 1.0);
				// gl.clear(gl.COLOR_BUFFER_BIT);
				ctx.drawImage(vid,0,0,vid.width,vid.height);
				// ctx.drawImage(webGLcanvas,0,0,webGLcanvas.width,webGLcanvas.height);
				dataUrl = thecanvas.toDataURL('image/webp', 1);
				document.getElementById('imagefile').src = dataUrl;
				imgdata = [dataUrl,gldataUrl];
				setTimeout(draw);
			}
			draw();



    </script>

</body>

</html>